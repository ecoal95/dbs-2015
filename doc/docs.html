<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
</head>
<body>
<h1 id="documentacion-de-la-practica">Documentación de la práctica</h1>
<h1 id="descripcion-de-las-tablas-generadas">Descripción de las tablas generadas</h1>
<h2 id="diseno-conceptual-diagrama-entidad-relacion">Diseño conceptual (diagrama entidad relación)</h2>
<p>El diagrama ha sido generado con la herramienta <em>GNU DIA</em>. Ésta herramienta no deja usar flechas dobles en las asociaciones entre clases UML, por lo que se usará una flecha para asociaciones con cardinalidad máxima n, y no se usará flecha en el lado de la asociación con cardinalidad máxima 1.</p>
<p><img src="img/diagram.png" alt="Diagrama" /></p>
<h3 id="convenciones-utilizadas">Convenciones utilizadas</h3>
<ul>
<li>Si un atributo tiene varias palabras en su nombre, se separarán con barras bajas.<br /></li>
<li>Las tablas que representan una entidad se llamarán como la entidad, pluralizado.<br /></li>
<li>Las tablas para relaciones <code>n-m</code> se designarán mediante el nombre las entidades relacionadas, ordenadas alfabéticamente y pluralizadas. (Ejemplo: <code>teachers_subjects</code>).<br /></li>
<li>Las claves primarias preferiblemente tendrán el nombre <code>id</code>, mientras las claves foráneas seguirán la forma <code>&lt;entidad&gt;_id</code>.<br /></li>
<li>Se prefiere usar un atributo <code>priority</code> para ordenar en vez de órdenes fijos y únicos: No sólo simplifica el diseño sino que es más flexible.</li>
</ul>
<h2 id="relacional">Relacional</h2>
<p>El modelo relacional, siguiendo las anteriores convenciones, quedaría:</p>
<ul>
<li><strong>grades</strong> (<strong>id</strong>, name)<br /></li>
<li><strong>teachers</strong> (<strong>id</strong>, dni, name, knowledge_field)<br /></li>
<li><strong>subjects</strong> (<strong>id</strong>, code, name, <em>grade_id</em>)<br /></li>
<li><strong>themes</strong> (<strong>id</strong>, priority, name, description, <em>subject_id</em>)<br /></li>
<li><strong>questions</strong> (<strong>id</strong>, statement)<br /></li>
<li><strong>answers</strong> (<strong>id</strong>, title, is_correct, priority, <em>question_id</em>)<br /></li>
<li><strong>exams</strong> (<strong>id</strong>, year, convocatory, <em>subject_id</em>)<br /></li>
<li><strong>questions_themes</strong> (<strong><em>question_id</em></strong>, <strong><em>theme_id</em></strong>)<br /></li>
<li><strong>exams_questions</strong> (<strong><em>question_id</em></strong>, <strong><em>exam_id</em></strong>, correct_answer_count, incorrect_answer_count, unreplied_answer_count)<br /></li>
<li><strong>subjects_teachers</strong> (<strong><em>subject_id</em></strong>, <strong><em>teacher</em>id_</strong>)</li>
</ul>
<p>Es apreciable que todas las tablas identificadas por un campo <code>id</code> (superclave) están en FNBC.</p>
<h1 id="estructura-del-codigo-c">Estructura del código C</h1>
<p>El código C relativo a la funcionalidad está todo en el directorio <code>src/</code>. El programa está organizado por subcomandos, declarados todos en el fichero principal <code>app.sc</code>:</p>
<pre class="sourceCode c"><code class="sourceCode c"><span class="co">/* The list of our supported commands */</span>
<span class="kw">struct</span> command commands[] = {
    { <span class="st">&quot;question&quot;</span>,  question, <span class="st">&quot;manages questions&quot;</span>,
        <span class="st">&quot;Usage: question [args...]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-a</span><span class="ch">\t</span><span class="st">creates a new question</span><span class="ch">\t</span><span class="st">-a &lt;statement&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-d</span><span class="ch">\t</span><span class="st">deletes a question</span><span class="ch">\t</span><span class="st">-d &lt;id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-e</span><span class="ch">\t</span><span class="st">edits a question</span><span class="ch">\t</span><span class="st">-e &lt;id&gt; &lt;statement&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-s</span><span class="ch">\t</span><span class="st">shows a question</span><span class="ch">\t</span><span class="st">-s &lt;id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-l</span><span class="ch">\t</span><span class="st">lists all questions</span><span class="ch">\t</span><span class="st">-l [&lt;theme_id&gt;] [--detailed]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-t</span><span class="ch">\t</span><span class="st">lists all questions by theme and subject</span><span class="ch">\t</span><span class="st">-t [--detailed]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;Prints the question id on success to stdout.&quot;</span> },
    { <span class="st">&quot;answer&quot;</span>, answer, <span class="st">&quot;manages answers&quot;</span>,
        <span class="st">&quot;Usage: answer [args...]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-a</span><span class="ch">\t</span><span class="st">creates an answer</span><span class="ch">\t</span><span class="st">-a &lt;question_id&gt; &lt;statement&gt; [--correct]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-l</span><span class="ch">\t</span><span class="st">list answers for a question</span><span class="ch">\t</span><span class="st">-l &lt;question_id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-d</span><span class="ch">\t</span><span class="st">deletes a question</span><span class="ch">\t</span><span class="st">-d &lt;id&gt;&quot;</span> },
    { <span class="st">&quot;exam&quot;</span>, exam, <span class="st">&quot;manages exams&quot;</span>,
        <span class="st">&quot;Usage: answer [args...]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-l</span><span class="ch">\t</span><span class="st">list exams for a question</span><span class="ch">\t</span><span class="st">-l &lt;question_id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span> },
    { <span class="st">&quot;questions_themes&quot;</span>, questions_themes, <span class="st">&quot;Relation between questions and themes&quot;</span>,
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-a</span><span class="ch">\t</span><span class="st">ads a new relationship</span><span class="ch">\t</span><span class="st">-a &lt;question_id&gt; &lt;theme_id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span> },
    { <span class="st">&quot;interactive&quot;</span>, interactive, <span class="st">&quot;Open an interactive session&quot;</span> },
    { NULL, NULL, NULL, NULL }
};</code></pre>
<p>El código relativo a la ejecución de los comandos, al ser algo no relacionado con el funcionamiento en sí de la práctica, está en el directorio <code>lib/</code>.</p>
<p>Cada estructura de la lista contiene el alias del comando (la forma de llamarlo), la función que ejecuta (siendo de la forma <code>int (*) (int argc, char** argv)</code>), una descripción corta que se escribe al ejecutar el comando autogenerado <code>help</code>, y una larga que se escribe al ejecutar el comando <code>help &lt;comando&gt;</code>.</p>
<p>Cada función es encargada de leer el resto de argumentos, y hacer lo que crea conveniente con ellos, y está declarada en un fichero <code>.h</code> con el mismo nombre, y definida en el fichero <code>.sc</code> correspondiente.</p>
<p>Las funciones interaccionan entre ellas usando el macro <code>CALL</code> (<code>common.h</code>), que manipula los argumentos convenientemente para simular una llamada desde la consola.</p>
<p>Así, escribir:</p>
<pre><code>CALL(question, &quot;-l&quot;);</code></pre>
<p>Es equivalente a ejecutar:</p>
<pre><code>$ ./target/app question -l</code></pre>
<h1 id="estructura-del-codigo-sql">Estructura del código SQL</h1>
<p>El código sql se encuentra en la carpeta <code>etc/sql/</code>. Bajo el directorio <code>etc/sql/src/</code> se encuentran:</p>
<ul>
<li><code>schema.sql</code>: El esquema de la base de datos.<br /></li>
<li><code>derived_and_triggers.sql</code>: El atributo derivado y los triggers necesarios para gestionarlo automáticamente.<br /></li>
<li><code>seeds.sql</code>: Inserción de valores de prueba de la base de datos.<br /></li>
<li><code>view.sql</code>: La vista requerida por el enunciado.<br /></li>
<li><code>oracle-drops.sql</code>: Drops de las tablas en oracle (en postgresql borramos la base de datos directamente).</li>
</ul>
<p><strong>Nota</strong>: El esquema de la bd varía un poco con respecto al propuesto. Cada tema pertenece exclusivamente a una asignatura, y en vez de forzar órdenes, usamos un campo <code>priority</code>, que es más flexible. Se puede ver la estructura en el esquema de la carpeta <code>doc/</code></p>
<h1 id="compilacion-y-ejecucion">Compilación y ejecución</h1>
<p>Desde la carpeta del proyecto ejecutar:</p>
<pre><code>$ ./configure
$ make
$ cd etc/sql &amp;&amp; make</code></pre>
<p><strong>Nota</strong>: en olivo, <code>make</code> debe ser sustituido por <code>gmake</code></p>
<p>El primer <code>make</code> compilará la aplicación en el directorio <code>target/</code>, mientras que el segundo creará las tablas, el atributo derivado, la vista, e insertará los datos de prueba.</p>
<p>Usamos un pequeño archivo (<code>oracle-prepro</code>) para poder compilar con una interfaz similar a la de <code>gcc</code> o <code>ecpg</code> (compila el archivo pasado como segundo argumento con las opciones deseadas). Usamos la opción <code>DYNAMIC=ORACLE</code> ya que con esta configuración el mensaje de error en <code>sqlca.sqlerrm.sqlerrmc</code> funciona como se espera.</p>
<p>Los warnings generados por <code>Pro*C</code> acerca del macro <code>CALL</code> deberán ser ignorados. Se deben a que usa argumentos variables (<code>C99</code>), y el preprocesador analiza código según <code>C90</code> (<em>Ya va siendo hora de actualizar... <strong>ejem</strong></em>).</p>
<h2 id="ejecucion-en-modo-interactivo">Ejecución en modo interactivo</h2>
<p>El comando <code>interactive</code> es un comando especial, ya que permite al usuario interaccionar directamente en lugar de mediante consola. Para usar la sesión interactiva usaremos:</p>
<pre><code>$ ./target/app interactive</code></pre>
<p>Donde se podrá ver un menú con el que el usuario puede interaccionar.</p>
<h1 id="funcionalidad-no-requerida">Funcionalidad no requerida</h1>
<p>Se puede apreciar en la ayuda de los comandos que hay funcionalidad no requerida para el enunciado. Algunos ejemplos son:</p>
<pre><code>./target/app question -d &lt;id&gt;          # Borra una pregunta
./target/app question -e &lt;id&gt; &lt;statement&gt; # Cambia el enunciado de una pregunta
./target/app question -l [--detailed]  # Muestra todas las preguntas, opcionalmente con sus detalles
./target/app exam -l &lt;question_id&gt;     # Lista todos los exámenes para una pregunta
./target/app answer -l &lt;question_id&gt;   # Lista todas las respuestas para una pregunta
./target/app answer -d &lt;id&gt;            # Borra una respuesta</code></pre>
<p>No se han hecho entradas interactivas de algunas de ellas para evitar complicar más.</p>
<h1 id="detalles-curiosos">Detalles curiosos</h1>
<p>Se ha evitado el tener que especificar la id al insertar los datos mediante un uso de triggers y secuencias. Los triggers son autogenerados por el script <code>etc/sql/scripts/generate_triggers.sh</code>.</p>
<p>La vista cuenta los temas que no tienen ninguna pregunta asignada, eso se consigue con una subselect. El rendimiento probablemente sea peor que sin ella, pero tenemos el juego de datos esperado.</p>
<h1 id="capturas-de-pantalla">Capturas de pantalla</h1>
<h2 id="creacion-de-las-tablas">Creación de las tablas</h2>
<p><img src="img/create.png" alt="Creación de las tablas" /></p>
<h2 id="insercion-de-datos">Inserción de datos</h2>
<p><img src="img/seeds.png" alt="Inserción" /></p>
<h2 id="atributo-derivado">Atributo derivado</h2>
<p><img src="img/derived_and_triggers.png" alt="Derivado" /></p>
<h2 id="creacion-de-la-vista">Creación de la vista</h2>
<p><img src="img/view.png" alt="Vista" /></p>
<h2 id="aplicacion-sesion-interactiva">Aplicación (sesión interactiva)</h2>
<p><img src="img/app_interactive.png" alt="App" /></p>
<h1 id="codigo-fuente">Código fuente</h1>
<p>Se incluyen tanto los ficheros sql como los de C, no se incluye lo necesario para compilarlos sin embargo.</p>
<h2 id="srcanswer.h">src/answer.h</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef ANSWER_H_</span>
<span class="ot">#define ANSWER_H_</span>
<span class="dt">int</span> answer(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);
<span class="ot">#endif</span></code></pre>
<h2 id="srcanswer.pc">src/answer.pc</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;answer.h&quot;</span>
<span class="ot">#include &quot;common.h&quot;</span>

<span class="dt">int</span> list_answers(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="dt">int</span> answer(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> id;
    <span class="dt">int</span> priority = <span class="dv">1</span>;
    <span class="dt">int</span> is_correct = <span class="dv">0</span>;
    <span class="dt">int</span> question_id;
    varchar title[<span class="dv">255</span>] = {<span class="dv">0</span>};
    EXEC SQL END DECLARE SECTION;

    <span class="kw">if</span> ( argc &lt; <span class="dv">1</span> || argc &gt; <span class="dv">5</span> )
        ARGUMENT_ERROR();

    <span class="co">/// Add a new question</span>
    <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-a&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">if</span> ( argc &lt; <span class="dv">2</span> || argc &gt; <span class="dv">4</span> )
            ARGUMENT_ERROR();

        <span class="kw">if</span> ( argc &gt; <span class="dv">2</span> ) {
            <span class="kw">if</span> ( strcmp(argv[argc - <span class="dv">1</span>], <span class="st">&quot;--correct&quot;</span>) == <span class="dv">0</span> || strcmp(argv[argc - <span class="dv">1</span>], <span class="st">&quot;-c&quot;</span>) == <span class="dv">0</span> ) {
                is_correct = <span class="dv">1</span>;

                <span class="kw">if</span> ( argc == <span class="dv">4</span> )
                    priority = atoi(argv[<span class="dv">2</span>]);
            } <span class="kw">else</span> {
                <span class="kw">if</span> ( argc == <span class="dv">4</span> )
                    ARGUMENT_ERROR();
                <span class="kw">else</span>
                    priority = atoi(argv[argc - <span class="dv">1</span>]);
            }
        }

        question_id = atoi(argv[<span class="dv">0</span>]);

        COPY_TO_VARCHAR(title, argv[<span class="dv">1</span>], <span class="dv">255</span>);
        EXEC SQL INSERT INTO answers (question_id, title, priority, is_correct) VALUES (:question_id, :title, :priority, :is_correct)
            RETURNING id INTO :id;

        APPCOM_RET_INT(id);
        <span class="kw">return</span> <span class="dv">0</span>;
    <span class="co">/* Delete */</span>
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-d&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">if</span> ( argc != <span class="dv">1</span> )
            ARGUMENT_ERROR();

        id = atoi(argv[<span class="dv">0</span>]);

        EXEC SQL DELETE FROM answers WHERE id = :id;
        <span class="kw">return</span> <span class="dv">0</span>;
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-l&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">return</span> list_answers(argc, argv);
    }

    ARGUMENT_ERROR();
}

<span class="dt">int</span> list_answers(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> question_id;
    <span class="dt">int</span> id;
    <span class="dt">char</span> title[<span class="dv">256</span>] = {<span class="dv">0</span>};
    <span class="dt">short</span> is_correct;
    EXEC SQL END DECLARE SECTION;

    <span class="kw">if</span> ( argc != <span class="dv">1</span> )
        ARGUMENT_ERROR();

    question_id = atoi(argv[<span class="dv">0</span>]);

    EXEC SQL DECLARE answers_cursor CURSOR FOR
        SELECT id, title, is_correct FROM answers
            WHERE question_id = :question_id
                ORDER BY priority ASC;

    EXEC SQL OPEN answers_cursor;
    <span class="kw">while</span> ( <span class="dv">1</span> ) {
        EXEC SQL FETCH answers_cursor INTO :id, :title, :is_correct;

        <span class="kw">if</span> ( SQLCODE == NOT_FOUND )
            <span class="kw">break</span>;

        printf(<span class="st">&quot; [%c] %s (%d)</span><span class="ch">\n</span><span class="st">&quot;</span>, is_correct ? &#39;x&#39; : &#39; &#39;, str_trim_right(title), id);
    }
    EXEC SQL CLOSE answers_cursor;
    <span class="kw">return</span> <span class="dv">1</span>;
}</code></pre>
<h2 id="srcapp.pc">src/app.pc</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &lt;stdlib.h&gt;</span>
<span class="ot">#include &lt;stdio.h&gt;</span>
<span class="ot">#include &lt;string.h&gt;</span>

<span class="ot">#include &quot;question.h&quot;</span>
<span class="ot">#include &quot;answer.h&quot;</span>
<span class="ot">#include &quot;exam.h&quot;</span>
<span class="ot">#include &quot;questions_themes.h&quot;</span>
<span class="ot">#include &quot;interactive.h&quot;</span>
<span class="ot">#include &quot;common.h&quot;</span>

<span class="ot">#include &quot;../lib/commands.h&quot;</span>

<span class="ot">#ifndef POSTGRES</span>
<span class="dt">char</span> SQLSTATE[<span class="dv">6</span>];
<span class="ot">#define SQLCODE sqlca.sqlcode</span>
<span class="ot">#endif</span>

<span class="co">/* The list of our supported commands */</span>
<span class="kw">struct</span> command commands[] = {
    { <span class="st">&quot;question&quot;</span>,  question, <span class="st">&quot;manages questions&quot;</span>,
        <span class="st">&quot;Usage: question [args...]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-a</span><span class="ch">\t</span><span class="st">creates a new question</span><span class="ch">\t</span><span class="st">-a &lt;statement&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-d</span><span class="ch">\t</span><span class="st">deletes a question</span><span class="ch">\t</span><span class="st">-d &lt;id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-e</span><span class="ch">\t</span><span class="st">edits a question</span><span class="ch">\t</span><span class="st">-e &lt;id&gt; &lt;statement&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-s</span><span class="ch">\t</span><span class="st">shows a question</span><span class="ch">\t</span><span class="st">-s &lt;id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-l</span><span class="ch">\t</span><span class="st">lists all questions</span><span class="ch">\t</span><span class="st">-l [&lt;theme_id&gt;] [--detailed]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-t</span><span class="ch">\t</span><span class="st">lists all questions by theme and subject</span><span class="ch">\t</span><span class="st">-t [--detailed]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;Prints the question id on success to stdout.&quot;</span> },
    { <span class="st">&quot;answer&quot;</span>, answer, <span class="st">&quot;manages answers&quot;</span>,
        <span class="st">&quot;Usage: answer [args...]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-a</span><span class="ch">\t</span><span class="st">creates an answer</span><span class="ch">\t</span><span class="st">-a &lt;question_id&gt; &lt;statement&gt; [priority] [--correct]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-l</span><span class="ch">\t</span><span class="st">list answers for a question</span><span class="ch">\t</span><span class="st">-l &lt;question_id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-d</span><span class="ch">\t</span><span class="st">deletes a question</span><span class="ch">\t</span><span class="st">-d &lt;id&gt;&quot;</span> },
    { <span class="st">&quot;exam&quot;</span>, exam, <span class="st">&quot;manages exams&quot;</span>,
        <span class="st">&quot;Usage: answer [args...]</span><span class="ch">\n</span><span class="st">&quot;</span>
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-l</span><span class="ch">\t</span><span class="st">list exams for a question</span><span class="ch">\t</span><span class="st">-l &lt;question_id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span> },
    { <span class="st">&quot;questions_themes&quot;</span>, questions_themes, <span class="st">&quot;Relation between questions and themes&quot;</span>,
        <span class="st">&quot;</span><span class="ch">\t</span><span class="st">-a</span><span class="ch">\t</span><span class="st">ads a new relationship</span><span class="ch">\t</span><span class="st">-a &lt;question_id&gt; &lt;theme_id&gt;</span><span class="ch">\n</span><span class="st">&quot;</span> },
    { <span class="st">&quot;interactive&quot;</span>, interactive, <span class="st">&quot;Open an interactive session&quot;</span> },
    { NULL, NULL, NULL, NULL }
};


<span class="dt">void</span> handle_error() {
    fprintf(stderr, <span class="st">&quot;[ERROR] %s | SQLSTATE(%s), SQLCODE(%ld)</span><span class="ch">\n</span><span class="st">&quot;</span>, sqlca.sqlerrm.sqlerrmc, SQLSTATE, SQLCODE);
    exit(<span class="dv">1</span>);
}

<span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
<span class="ot">#ifndef POSTGRES</span>
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">char</span> oracle_id[] = <span class="st">&quot;/&quot;</span>;
    EXEC SQL END DECLARE SECTION;
    EXEC SQL CONNECT :oracle_id;
<span class="ot">#else</span>
    EXEC SQL CONNECT TO exams;
<span class="ot">#endif</span>

    <span class="dt">int</span> ret = command_exec(commands, argc, argv);

    <span class="kw">if</span> ( appcom.ret.int_value )
        printf(<span class="st">&quot;%d</span><span class="ch">\n</span><span class="st">&quot;</span>, appcom.ret.int_value);

    EXEC SQL COMMIT;

    <span class="kw">return</span> ret;
}</code></pre>
<h2 id="srccommon.c">src/common.c</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;common.h&quot;</span>
<span class="ot">#include &lt;stdlib.h&gt;</span>
<span class="ot">#include &lt;stdio.h&gt;</span>
<span class="ot">#include &lt;ctype.h&gt;</span>

<span class="kw">struct</span> appcom appcom = { { <span class="dv">0</span>, <span class="st">&quot;&quot;</span> } };

<span class="dt">void</span> get_str(<span class="dt">char</span>* buffer, size_t size) {
    printf(<span class="st">&quot;&gt; &quot;</span>);
    fgets(buffer, size, stdin);
    buffer[size - <span class="dv">1</span>] = &#39;\<span class="dv">0</span>&#39;;

    str_trim_right(buffer);
}

<span class="dt">char</span>* str_trim_right(<span class="dt">char</span>* input) {
    size_t len = strlen(input);

    <span class="kw">while</span> ( len-- )
        <span class="kw">if</span> ( ! isspace(input[len]) )
            <span class="kw">break</span>;

    input[len + <span class="dv">1</span>] = &#39;\<span class="dv">0</span>&#39;;

    <span class="kw">return</span> input;
}

<span class="dt">char</span>* str_copy(<span class="dt">const</span> <span class="dt">char</span>* input) {
    size_t len = strlen(input);
    <span class="dt">char</span>* ret = (<span class="dt">char</span>*) malloc(len + <span class="dv">1</span>);

    ret[len] = &#39;\<span class="dv">0</span>&#39;;
    memcpy(ret, input, len);

    <span class="kw">return</span> ret;
}

<span class="dt">char</span> get_bool() {
    <span class="dt">char</span> resp;
    <span class="kw">do</span> {
        printf(<span class="st">&quot;(y/n): &quot;</span>);
        resp = tolower(getchar());
        FLUSH_STDIN();
    } <span class="kw">while</span> ( ! ( resp == &#39;y&#39; || resp == &#39;n&#39; ) );

    <span class="kw">if</span> ( resp == &#39;y&#39; )
        <span class="kw">return</span> <span class="dv">1</span>;

    <span class="kw">return</span> <span class="dv">0</span>;
}

<span class="dt">int</span> get_int() {
    <span class="dt">int</span> ret;
    printf(<span class="st">&quot;&gt; &quot;</span>);
    scanf(<span class="st">&quot;%d&quot;</span>, &amp;ret);

    FLUSH_STDIN();

    <span class="kw">return</span> ret;
}</code></pre>
<h2 id="srccommon.h">src/common.h</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef MACROS_H_</span>
<span class="ot">#define MACROS_H_</span>
<span class="ot">#include &lt;stdlib.h&gt;</span>
<span class="ot">#include &lt;stdio.h&gt;</span>
<span class="ot">#include &lt;string.h&gt;</span>
<span class="ot">#include &lt;sqlca.h&gt;</span>

<span class="ot">#ifndef SQLCODE</span>
<span class="ot">#define SQLCODE sqlca.sqlcode</span>
<span class="ot">#endif</span>

<span class="ot">#define APPCOM_RET_STR_MAX 70</span>
<span class="kw">struct</span> appcom {
    <span class="kw">struct</span> {
        <span class="dt">int</span> int_value;
        <span class="dt">char</span> str_value[APPCOM_RET_STR_MAX];
    } ret;
};

<span class="dt">void</span> handle_error();
<span class="kw">extern</span> <span class="kw">struct</span> appcom appcom;

<span class="ot">#define APPCOM_RET_INT(val) do { \</span>
    appcom.ret.int_value = val; \
    snprintf(appcom.ret.str_value, APPCOM_RET_STR_MAX, <span class="st">&quot;%d&quot;</span>, val); \
} <span class="kw">while</span> (<span class="dv">0</span>)

<span class="ot">#ifdef POSTGRES</span>
<span class="ot">#  define NOT_FOUND ECPG_NOT_FOUND</span>
<span class="ot">#else</span>
<span class="ot">#  define NOT_FOUND 1403</span>
<span class="ot">#endif</span>

<span class="ot">#define ARGUMENT_ERROR() do { \</span>
    fprintf(stderr, <span class="st">&quot;Error: Unexpected number of arguments.</span><span class="ch">\n</span><span class="st">&quot;</span>); \
    fprintf(stderr, <span class="st">&quot;Run with `help` to know more</span><span class="ch">\n</span><span class="st">&quot;</span>); \
    exit(<span class="dv">1</span>); \
} <span class="kw">while</span> (<span class="dv">0</span>)

<span class="ot">#define FLUSH_STDIN() do { \</span>
    <span class="kw">while</span> ( getchar() != <span class="ch">&#39;\n&#39;</span> ) {}; \
} <span class="kw">while</span> ( <span class="dv">0</span> )

<span class="ot">#define COPY_TO_VARCHAR(vchar, str, _len) do { \</span>
    strncpy(vchar.arr, str, _len); \
    vchar.arr[_len - <span class="dv">1</span>] = &#39;\<span class="dv">0</span>&#39;; \
    vchar.len = strlen(vchar.arr); \
} <span class="kw">while</span> ( <span class="dv">0</span> )

<span class="dt">char</span>* str_trim_right(<span class="dt">char</span>*);
<span class="dt">char</span>* str_copy(<span class="dt">const</span> <span class="dt">char</span>*);

<span class="dt">void</span> get_str(<span class="dt">char</span>*, size_t);
<span class="dt">char</span> get_bool();
<span class="dt">int</span> get_int();

<span class="co">/* This must be the last macro to keep PRO*C happy */</span>
<span class="ot">#define CALL(fn, ...) do { \</span>
    <span class="dt">int</span> argc__ = <span class="dv">0</span>; \
    <span class="dt">char</span>* argv__[] = { __VA_ARGS__, NULL }; \
    <span class="dt">char</span>** argvp__ = argv__; \
    <span class="kw">while</span> ( *argvp__++ ) argc__++; \
    fn(argc__, argv__); \
} <span class="kw">while</span> ( <span class="dv">0</span> )
<span class="ot">#endif</span></code></pre>
<h2 id="srcexam.h">src/exam.h</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef EXAM_H_</span>
<span class="ot">#define EXAM_H_</span>

<span class="dt">int</span> exam(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="ot">#endif</span></code></pre>
<h2 id="srcexam.pc">src/exam.pc</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;exam.h&quot;</span>
<span class="ot">#include &quot;common.h&quot;</span>

<span class="dt">int</span> list_exams(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="dt">int</span> exam(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
   <span class="kw">if</span> ( argc != <span class="dv">2</span> )
        ARGUMENT_ERROR();

    <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-l&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;
        <span class="kw">return</span> list_exams(argc, argv);
    }

    ARGUMENT_ERROR();
}

<span class="dt">int</span> list_exams(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> question_id;
    <span class="dt">int</span> id;
    <span class="dt">int</span> exam_year;
    <span class="dt">int</span> convocatory;
    <span class="dt">int</span> correct;
    <span class="dt">int</span> incorrect;
    <span class="dt">int</span> unreplied;

    <span class="dt">char</span> subject_name[<span class="dv">256</span>] = {<span class="dv">0</span>};
    EXEC SQL END DECLARE SECTION;


    <span class="kw">if</span> ( argc != <span class="dv">1</span> )
        ARGUMENT_ERROR();

    <span class="dt">int</span> count = <span class="dv">0</span>;
    question_id = atoi(argv[<span class="dv">0</span>]);

    EXEC SQL DECLARE exams_cursor CURSOR FOR
        SELECT exams.id, exams.year, exams.convocatory, subjects.name, exams_questions.correct_answer_count, exams_questions.incorrect_answer_count, exams_questions.unreplied_answer_count
        FROM exams, exams_questions, subjects
            WHERE exams_questions.question_id = :question_id AND
                  exams_questions.exam_id = exams.id AND subjects.id = exams.subject_id
                ORDER BY exams.year, exams.convocatory ASC;

    EXEC SQL OPEN exams_cursor;
    <span class="kw">while</span> ( <span class="dv">1</span> ) {
        EXEC SQL FETCH exams_cursor INTO :id, :exam_year, :convocatory, :subject_name, :correct, :incorrect, :unreplied;

        <span class="kw">if</span> ( SQLCODE == NOT_FOUND )
            <span class="kw">break</span>;

        ++count;

        printf(<span class="st">&quot;%d %s (%d)</span><span class="ch">\n</span><span class="st">&quot;</span>, exam_year, str_trim_right(subject_name), convocatory);
        printf(<span class="st">&quot; - Total: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, correct + incorrect + unreplied);
        printf(<span class="st">&quot; - Correct: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, correct);
        printf(<span class="st">&quot; - Incorrect: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, incorrect);
        printf(<span class="st">&quot; - Unreplied: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, unreplied);
    }
    EXEC SQL CLOSE exams_cursor;

    printf(<span class="st">&quot;Total: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, count);

    <span class="kw">return</span> <span class="dv">0</span>;
}</code></pre>
<h2 id="srcinteractive.h">src/interactive.h</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef INTERACTIVE_H_</span>
<span class="ot">#define INTERACTIVE_H_</span>

<span class="dt">int</span> interactive(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="ot">#endif</span></code></pre>
<h2 id="srcinteractive.pc">src/interactive.pc</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;interactive.h&quot;</span>
<span class="ot">#include &quot;common.h&quot;</span>
<span class="ot">#include &quot;question.h&quot;</span>
<span class="ot">#include &quot;answer.h&quot;</span>
<span class="ot">#include &quot;questions_themes.h&quot;</span>
<span class="ot">#include &lt;stdio.h&gt;</span>
<span class="ot">#include &lt;ctype.h&gt;</span>

<span class="dt">void</span> crear_pregunta() {
    <span class="dt">char</span> buffer[<span class="dv">256</span>] = {<span class="dv">0</span>};
    <span class="dt">int</span> priority = <span class="dv">0</span>;
    <span class="dt">char</span> priority_str[<span class="dv">20</span>] = {<span class="dv">0</span>};
    <span class="dt">char</span> resp;
    <span class="dt">char</span>* question_id = NULL;
    printf(<span class="st">&quot;Introduce un enunciado: </span><span class="ch">\n</span><span class="st">&quot;</span>);
    get_str(buffer, <span class="kw">sizeof</span>(buffer));

    CALL(question, <span class="st">&quot;-a&quot;</span>, buffer);

    printf(<span class="st">&quot;Pregunta creada correctamente (id: %d)</span><span class="ch">\n</span><span class="st">&quot;</span>, appcom.ret.int_value);
    question_id = str_copy(appcom.ret.str_value);

    <span class="kw">while</span> ( <span class="dv">1</span> ) {
        priority++;
        printf(<span class="st">&quot;Quieres introducir una respuesta? &quot;</span>);
        resp = get_bool();

        <span class="kw">if</span> ( ! resp )
            <span class="kw">break</span>;

        printf(<span class="st">&quot;Introduce la respuesta:</span><span class="ch">\n</span><span class="st">&quot;</span>);
        get_str(buffer, <span class="kw">sizeof</span>(buffer));

        printf(<span class="st">&quot;Es una respuesta correcta?</span><span class="ch">\n</span><span class="st">&quot;</span>);
        resp = get_bool();

        snprintf(priority_str, <span class="kw">sizeof</span>(priority_str), <span class="st">&quot;%d&quot;</span>, priority);

        <span class="kw">if</span> ( resp )
            CALL(answer, <span class="st">&quot;-a&quot;</span>, question_id, buffer, priority_str, <span class="st">&quot;--correct&quot;</span>);
        <span class="kw">else</span>
            CALL(answer, <span class="st">&quot;-a&quot;</span>, question_id, buffer, priority_str);

        printf(<span class="st">&quot;Respuesta creada correctamente (id: %d)</span><span class="ch">\n</span><span class="st">&quot;</span>, appcom.ret.int_value);
    }

    free(question_id);
}

<span class="dt">void</span> listar_por_tema() {
    CALL(question, <span class="st">&quot;-t&quot;</span>);
}

<span class="dt">void</span> consultar_pregunta() {
    <span class="dt">char</span> id[<span class="dv">20</span>];

    printf(<span class="st">&quot;Introduce el id de la pregunta: </span><span class="ch">\n</span><span class="st">&quot;</span>);
    get_str(id, <span class="kw">sizeof</span>(id));

    CALL(question, <span class="st">&quot;-s&quot;</span>, id);
}

<span class="dt">void</span> asignar_tema() {
    <span class="dt">char</span> question_id[<span class="dv">20</span>];
    <span class="dt">char</span> theme_id[<span class="dv">20</span>];

    printf(<span class="st">&quot;Introduce la id de la pregunta: </span><span class="ch">\n</span><span class="st">&quot;</span>);
    get_str(question_id, <span class="kw">sizeof</span>(question_id));

    printf(<span class="st">&quot;Introduce la id del tema: </span><span class="ch">\n</span><span class="st">&quot;</span>);
    get_str(theme_id, <span class="kw">sizeof</span>(theme_id));

    CALL(questions_themes, <span class="st">&quot;-a&quot;</span>, question_id, theme_id);

    printf(<span class="st">&quot;Relación añadida correctamente</span><span class="ch">\n</span><span class="st">&quot;</span>);
}

<span class="dt">void</span> commit() {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL COMMIT;
}

<span class="dt">void</span> exit_() {
    <span class="dt">char</span> resp;

    printf(<span class="st">&quot;Guardar los cambios? &quot;</span>);
    resp = get_bool();

    <span class="kw">if</span> ( resp )
        commit();

    exit(<span class="dv">0</span>);
}

<span class="kw">struct</span> menu_option {
    <span class="dt">const</span> <span class="dt">char</span>* text;
    <span class="dt">void</span> (*fn)(<span class="dt">void</span>);
};

<span class="dt">const</span> <span class="kw">struct</span> menu_option options[] = {
    { <span class="st">&quot;Dar de alta una pregunta&quot;</span>, crear_pregunta },
    { <span class="st">&quot;Listar preguntas por tema y asignatura&quot;</span>, listar_por_tema },
    { <span class="st">&quot;Consulta una pregunta&quot;</span>, consultar_pregunta },
    { <span class="st">&quot;Asignar un tema a una pregunta&quot;</span>, asignar_tema },
    { <span class="st">&quot;Confirmar cambios&quot;</span>, commit },
    { <span class="st">&quot;Salir&quot;</span>, exit_ },
    { NULL, NULL }
};

<span class="dt">int</span> interactive(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    size_t i;
    <span class="dt">int</span> chosen;

    <span class="kw">if</span> ( argc != <span class="dv">0</span> )
        ARGUMENT_ERROR();

    <span class="kw">while</span> ( <span class="dv">1</span> ) {
        i = <span class="dv">0</span>;
        <span class="kw">while</span> ( options[i].text ) {
            i++;
            printf(<span class="st">&quot;%zu) %s</span><span class="ch">\n</span><span class="st">&quot;</span>, i, options[i - <span class="dv">1</span>].text);
        }

        chosen = <span class="dv">0</span>;
        <span class="kw">do</span> {
            chosen = get_int();
        } <span class="kw">while</span> ( chosen &lt; <span class="dv">1</span> || chosen &gt; i );

        options[chosen - <span class="dv">1</span>].fn();

        printf(<span class="st">&quot;</span><span class="ch">\n\n</span><span class="st">&quot;</span>);
    }

    <span class="kw">return</span> <span class="dv">0</span>;
}</code></pre>
<h2 id="srcquestion.h">src/question.h</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef QUESTION_H_</span>
<span class="ot">#define QUESTION_H_</span>

<span class="dt">int</span> question(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="ot">#endif</span></code></pre>
<h2 id="srcquestion.pc">src/question.pc</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;common.h&quot;</span>
<span class="ot">#include &quot;question.h&quot;</span>
<span class="ot">#include &quot;answer.h&quot;</span>
<span class="ot">#include &quot;exam.h&quot;</span>

<span class="dt">int</span> list_questions(<span class="dt">int</span>, <span class="dt">char</span>**);
<span class="dt">int</span> show_question(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);
<span class="dt">int</span> list_questions_by_theme(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="dt">int</span> question(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> id;
    varchar statement[<span class="dv">255</span>] = {<span class="dv">0</span>};
    EXEC SQL END DECLARE SECTION;

    <span class="kw">if</span> ( argc &lt; <span class="dv">1</span> || argc &gt; <span class="dv">4</span> )
        ARGUMENT_ERROR();

    <span class="co">/* Add a new question */</span>
    <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-a&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">if</span> ( argc != <span class="dv">1</span> )
            ARGUMENT_ERROR();

        COPY_TO_VARCHAR(statement, argv[<span class="dv">0</span>], <span class="dv">255</span>);
        EXEC SQL INSERT INTO questions (statement) VALUES (:statement)
            RETURNING id INTO :id;

        APPCOM_RET_INT(id);

        <span class="kw">return</span> <span class="dv">0</span>;
    <span class="co">/* Delete it */</span>
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-d&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">if</span> ( argc != <span class="dv">1</span> )
            ARGUMENT_ERROR();

        id = atoi(argv[<span class="dv">0</span>]);

        EXEC SQL DELETE FROM questions WHERE id = :id;
        <span class="kw">return</span> <span class="dv">0</span>;
    <span class="co">/* Update */</span>
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-e&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">if</span> ( argc != <span class="dv">2</span> )
            ARGUMENT_ERROR();

        id = atoi(argv[<span class="dv">0</span>]);
        COPY_TO_VARCHAR(statement, argv[<span class="dv">1</span>], <span class="dv">255</span>);

        EXEC SQL UPDATE questions SET statement = :statement WHERE id = :id;

        <span class="kw">return</span> <span class="dv">0</span>;
    <span class="co">/* List */</span>
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-l&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">return</span> list_questions(argc, argv);
    <span class="co">/* List by theme */</span>
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-t&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">return</span> list_questions_by_theme(argc, argv);
    } <span class="kw">else</span> <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-s&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        <span class="kw">return</span> show_question(argc, argv);
    }

    ARGUMENT_ERROR();
}

<span class="co">/// Lists all questions</span>
<span class="dt">int</span> list_questions(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> id;
    <span class="dt">int</span> theme_id;
    <span class="dt">char</span> statement[<span class="dv">256</span>] = {<span class="dv">0</span>};
    <span class="dt">char</span> question_id_str[<span class="dv">20</span>];
    EXEC SQL END DECLARE SECTION;
    <span class="dt">unsigned</span> <span class="dt">char</span> detailed_mode = <span class="dv">0</span>;

    EXEC SQL WHENEVER SQLERROR DO handle_error();

    <span class="dt">int</span> count = <span class="dv">0</span>;

    <span class="kw">if</span> ( argc &gt; <span class="dv">2</span> )
        ARGUMENT_ERROR();

    <span class="kw">if</span> ( argc &amp;&amp; strcmp(argv[argc - <span class="dv">1</span>], <span class="st">&quot;--detailed&quot;</span>) == <span class="dv">0</span> )
        detailed_mode = <span class="dv">1</span>;
    <span class="co">// If we passed two args and the detailed flag is not found...</span>
    <span class="kw">else</span> <span class="kw">if</span> ( argc == <span class="dv">2</span> )
        ARGUMENT_ERROR();

    EXEC SQL DECLARE questions_cursor CURSOR FOR
        SELECT id, statement FROM questions;

    EXEC SQL DECLARE questions_themes_cursor CURSOR FOR
        SELECT questions.id, questions.statement FROM questions, questions_themes WHERE questions_themes.question_id = questions.id AND questions_themes.theme_id = :theme_id;

    <span class="kw">if</span> ( argc == <span class="dv">0</span> || (argc == <span class="dv">1</span> &amp;&amp; detailed_mode) ) {
        EXEC SQL OPEN questions_cursor;
    } <span class="kw">else</span> {
        theme_id = atoi(argv[<span class="dv">0</span>]);
        EXEC SQL OPEN questions_themes_cursor;
    }
    <span class="kw">while</span> ( <span class="dv">1</span> ) {
        <span class="kw">if</span> ( argc == <span class="dv">0</span> || (argc == <span class="dv">1</span> &amp;&amp; detailed_mode) )
            EXEC SQL FETCH questions_cursor INTO :id, :statement;
        <span class="kw">else</span>
            EXEC SQL FETCH questions_themes_cursor INTO :id, :statement;

        <span class="kw">if</span> ( SQLCODE == NOT_FOUND )
            <span class="kw">break</span>;

        ++count;
        <span class="kw">if</span> ( detailed_mode ) {
            snprintf(question_id_str, <span class="kw">sizeof</span>(question_id_str), <span class="st">&quot;%d&quot;</span>, id);
            CALL(question, <span class="st">&quot;-s&quot;</span>, question_id_str);
        } <span class="kw">else</span> {
            printf(<span class="st">&quot;%d</span><span class="ch">\t</span><span class="st">%s</span><span class="ch">\n</span><span class="st">&quot;</span>, id, str_trim_right(statement));
        }
    }
    <span class="kw">if</span> ( argc == <span class="dv">0</span> || (argc == <span class="dv">1</span> &amp;&amp; detailed_mode) )
        EXEC SQL CLOSE questions_cursor;
    <span class="kw">else</span>
        EXEC SQL CLOSE questions_themes_cursor;

    printf(<span class="st">&quot;Total records: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, count);

    <span class="kw">return</span> <span class="dv">0</span>;
}

<span class="dt">int</span> list_questions_by_theme(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> theme_id;
    <span class="dt">int</span> subject_id;
    <span class="dt">int</span> theme_priority;
    <span class="dt">char</span> theme_name[<span class="dv">256</span>] = {<span class="dv">0</span>};
    <span class="dt">char</span> theme_id_str[<span class="dv">20</span>];
    <span class="dt">char</span> subject_name[<span class="dv">256</span>] = {<span class="dv">0</span>};
    EXEC SQL END DECLARE SECTION;

    <span class="kw">if</span> ( argc &gt; <span class="dv">1</span> )
        ARGUMENT_ERROR();

    EXEC SQL DECLARE themes_cursor CURSOR FOR
        SELECT themes.id, themes.priority, themes.name, subjects.id, subjects.name FROM themes, subjects WHERE themes.subject_id = subjects.id ORDER BY subjects.id, themes.priority;

    EXEC SQL OPEN themes_cursor;
    <span class="kw">while</span> ( <span class="dv">1</span> ) {
        EXEC SQL FETCH themes_cursor INTO :theme_id, :theme_priority, :theme_name, :subject_id, :subject_name;
        <span class="kw">if</span> ( SQLCODE == NOT_FOUND )
            <span class="kw">break</span>;

        printf(<span class="st">&quot;#%d - %d: %s (%s)</span><span class="ch">\n</span><span class="st">&quot;</span>, theme_id, theme_priority, str_trim_right(theme_name), str_trim_right(subject_name));

        snprintf(theme_id_str, <span class="kw">sizeof</span>(theme_id_str), <span class="st">&quot;%d&quot;</span>, theme_id);
        <span class="co">// argv[argc - 1] is required to be null</span>
        CALL(question, <span class="st">&quot;-l&quot;</span>, theme_id_str, argv[<span class="dv">0</span>]);
    }

    EXEC SQL CLOSE themes_cursor;

    <span class="kw">return</span> <span class="dv">0</span>;
}

<span class="dt">int</span> show_question(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> id;
    <span class="dt">char</span> statement[<span class="dv">256</span>] = {<span class="dv">0</span>};
    EXEC SQL END DECLARE SECTION;

    <span class="kw">if</span> ( argc == <span class="dv">0</span> || argc &gt; <span class="dv">1</span> )
        ARGUMENT_ERROR();

    id = atoi(argv[<span class="dv">0</span>]);

    EXEC SQL SELECT statement INTO :statement FROM questions WHERE id = :id;

    <span class="kw">if</span> ( SQLCODE == NOT_FOUND ) {
        fprintf(stderr, <span class="st">&quot;Record not found: %d</span><span class="ch">\n</span><span class="st">&quot;</span>, id);
        <span class="kw">return</span> <span class="dv">1</span>;
    }

    printf(<span class="st">&quot;%s</span><span class="ch">\n</span><span class="st">&quot;</span>, str_trim_right(statement));
    printf(<span class="st">&quot;-----------------------------------</span><span class="ch">\n</span><span class="st">&quot;</span>);
    printf(<span class="st">&quot;Options:</span><span class="ch">\n</span><span class="st">&quot;</span>);

    CALL(answer, <span class="st">&quot;-l&quot;</span>, argv[<span class="dv">0</span>]);

    printf(<span class="st">&quot;Exams:</span><span class="ch">\n</span><span class="st">&quot;</span>);

    CALL(exam, <span class="st">&quot;-l&quot;</span>, argv[<span class="dv">0</span>]);

    <span class="kw">return</span> <span class="dv">0</span>;
}</code></pre>
<h2 id="srcquestions_themes.h">src/questions_themes.h</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#ifndef QUESTIONS_THEMES_H_</span>
<span class="ot">#define QUESTIONS_THEMES_H_</span>

<span class="dt">int</span> questions_themes(<span class="dt">int</span> argc, <span class="dt">char</span>** argv);

<span class="ot">#endif</span></code></pre>
<h2 id="srcquestions_themes.pc">src/questions_themes.pc</h2>
<pre class="sourceCode c"><code class="sourceCode c"><span class="ot">#include &quot;questions_themes.h&quot;</span>
<span class="ot">#include &quot;common.h&quot;</span>

<span class="dt">int</span> questions_themes(<span class="dt">int</span> argc, <span class="dt">char</span>** argv) {
    EXEC SQL BEGIN DECLARE SECTION;
    <span class="dt">int</span> question_id;
    <span class="dt">int</span> theme_id;
    EXEC SQL END DECLARE SECTION;
    EXEC SQL WHENEVER SQLERROR DO handle_error();
    <span class="kw">if</span> ( argc != <span class="dv">3</span> )
        ARGUMENT_ERROR();

    <span class="kw">if</span> ( strcmp(argv[<span class="dv">0</span>], <span class="st">&quot;-a&quot;</span>) == <span class="dv">0</span> ) {
        argc--; argv++;

        question_id = atoi(argv[<span class="dv">0</span>]);
        theme_id = atoi(argv[<span class="dv">1</span>]);

        EXEC SQL INSERT INTO questions_themes (question_id, theme_id)
            VALUES (:question_id, :theme_id);
        <span class="kw">return</span> <span class="dv">0</span>;
    }

    ARGUMENT_ERROR();
}</code></pre>
<h2 id="etcsqlsrcderived_and_triggers.sql">etc/sql/src/derived_and_triggers.sql</h2>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">ALTER</span> <span class="kw">TABLE</span> questions <span class="kw">ADD</span> exam_count <span class="dt">INTEGER</span> <span class="kw">DEFAULT</span> <span class="dv">0</span>;

<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">TRIGGER</span> question_exam_insert <span class="kw">AFTER</span> <span class="kw">INSERT</span> <span class="kw">ON</span> exams_questions
<span class="kw">FOR</span> <span class="kw">EACH</span> <span class="kw">ROW</span>
<span class="kw">BEGIN</span>
    <span class="kw">UPDATE</span> questions <span class="kw">SET</span> exam_count = exam_count + <span class="dv">1</span> <span class="kw">WHERE</span> <span class="kw">id</span> = <span class="ch">:new</span>.question_id;
<span class="kw">END</span>;
/

<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">TRIGGER</span> question_exam_delete <span class="kw">AFTER</span> <span class="kw">DELETE</span> <span class="kw">ON</span> exams_questions
<span class="kw">FOR</span> <span class="kw">EACH</span> <span class="kw">ROW</span>
<span class="kw">BEGIN</span>
    <span class="kw">UPDATE</span> questions <span class="kw">SET</span> exam_count = exam_count - <span class="dv">1</span> <span class="kw">WHERE</span> <span class="kw">id</span> = <span class="ch">:old</span>.question_id;
<span class="kw">END</span>;
/

<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">TRIGGER</span> question_exam_insert <span class="kw">AFTER</span> <span class="kw">UPDATE</span> <span class="kw">OF</span> question_id <span class="kw">ON</span> exams_questions
<span class="kw">FOR</span> <span class="kw">EACH</span> <span class="kw">ROW</span>
<span class="kw">BEGIN</span>
    <span class="kw">UPDATE</span> questions <span class="kw">SET</span> exam_count = exam_count - <span class="dv">1</span> <span class="kw">WHERE</span> <span class="kw">id</span> = <span class="ch">:old</span>.question_id;
    <span class="kw">UPDATE</span> questions <span class="kw">SET</span> exam_count = exam_count + <span class="dv">1</span> <span class="kw">WHERE</span> <span class="kw">id</span> = <span class="ch">:new</span>.question_id;
<span class="kw">END</span>;
/</code></pre>
<h2 id="etcsqlsrcoracle-drops.sql">etc/sql/src/oracle-drops.sql</h2>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">DROP</span> <span class="kw">TABLE</span> questions_themes <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> exams_questions <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> subjects_teachers <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> exams <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> answers <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> questions <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> themes <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> subjects <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> teachers <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;
<span class="kw">DROP</span> <span class="kw">TABLE</span> grades <span class="kw">CASCADE</span> <span class="kw">CONSTRAINTS</span> <span class="kw">PURGE</span>;</code></pre>
<h2 id="etcsqlsrcschema.sql">etc/sql/src/schema.sql</h2>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">CREATE</span> <span class="kw">TABLE</span> grades (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span>(<span class="kw">id</span>)
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> teachers (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    dni <span class="dt">VARCHAR</span>(<span class="dv">10</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,
    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    knowledge_field <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> subjects (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    code <span class="dt">VARCHAR</span>(<span class="dv">10</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,
    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    grade_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>),
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (grade_id) <span class="kw">REFERENCES</span> grades(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> themes (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    priority <span class="dt">INTEGER</span> <span class="kw">DEFAULT</span> <span class="dv">1</span>,
    name <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="co">-- VARCHAR below should be TEXT, but it&#39;s not supported in oracle</span>
    description <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    subject_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>),
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (subject_id) <span class="kw">REFERENCES</span> subjects(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> questions (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    statement <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>)
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> answers (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    title <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
    is_correct <span class="dt">SMALLINT</span> <span class="kw">CHECK</span> (is_correct <span class="kw">in</span> (<span class="dv">0</span>,<span class="dv">1</span>)),
    priority <span class="dt">INTEGER</span> <span class="kw">DEFAULT</span> <span class="dv">1</span>,
    question_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>),
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (question_id) <span class="kw">REFERENCES</span> questions(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> exams (
    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="dt">year</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    convocatory <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    subject_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (<span class="kw">id</span>),
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (subject_id) <span class="kw">REFERENCES</span> subjects(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">CONSTRAINT</span> unique_exam <span class="kw">UNIQUE</span> (subject_id, <span class="dt">year</span>, convocatory)
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> questions_themes (
    question_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    theme_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (question_id) <span class="kw">REFERENCES</span> questions(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (theme_id) <span class="kw">REFERENCES</span> themes(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (question_id, theme_id)
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> exams_questions (
    question_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    exam_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    correct_answer_count <span class="dt">INTEGER</span> <span class="kw">DEFAULT</span> <span class="dv">0</span>,
    incorrect_answer_count <span class="dt">INTEGER</span> <span class="kw">DEFAULT</span> <span class="dv">0</span>,
    unreplied_answer_count <span class="dt">INTEGER</span> <span class="kw">DEFAULT</span> <span class="dv">0</span>,
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (question_id) <span class="kw">REFERENCES</span> questions(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (exam_id) <span class="kw">REFERENCES</span> exams(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (question_id, exam_id)
);


<span class="kw">CREATE</span> <span class="kw">TABLE</span> subjects_teachers (
    subject_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    teacher_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (subject_id) <span class="kw">REFERENCES</span> subjects(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (teacher_id) <span class="kw">REFERENCES</span> teachers(<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>,
    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (subject_id, teacher_id)
);</code></pre>
<h2 id="etcsqlsrcseeds.sql">etc/sql/src/seeds.sql</h2>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="co">--Table &quot;grades&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> grades <span class="kw">VALUES</span>(1, <span class="st">&#39;Grado en Ingeniería Informática&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> grades <span class="kw">VALUES</span>(2, <span class="st">&#39;Ingeniería Técnica en Informática de Gestión&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> grades <span class="kw">VALUES</span>(3, <span class="st">&#39;Grado en Ingeniería Informática en Sistemas de Información&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> grades <span class="kw">VALUES</span>(4, <span class="st">&#39;Ingeniería Técnica en Informática de Sistemas&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> grades <span class="kw">VALUES</span>(5, <span class="st">&#39;Grado en Ingeniería del Software&#39;</span>);


<span class="co">--Table &quot;teachers&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> teachers <span class="kw">VALUES</span>(1, <span class="st">&#39;70015789L&#39;</span>, <span class="st">&#39;Jacinto Pérez Hermoso&#39;</span>, <span class="st">&#39;Automática&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> teachers <span class="kw">VALUES</span>(2, <span class="st">&#39;71085749F&#39;</span>, <span class="st">&#39;Brígida Ferreira Santos&#39;</span>, <span class="st">&#39;Robótica&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> teachers <span class="kw">VALUES</span>(3, <span class="st">&#39;78014787Y&#39;</span>, <span class="st">&#39;Tomás Fernández Marín&#39;</span>, <span class="st">&#39;Inteligencia Artifical&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> teachers <span class="kw">VALUES</span>(4, <span class="st">&#39;70032427T&#39;</span>, <span class="st">&#39;Laura Galende Hernández&#39;</span>, <span class="st">&#39;Informática&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> teachers <span class="kw">VALUES</span>(5, <span class="st">&#39;70011497H&#39;</span>, <span class="st">&#39;José de Pedro Santos&#39;</span>, <span class="st">&#39;Nanotecnología&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> teachers <span class="kw">VALUES</span>(6, <span class="st">&#39;OPS$I0912324&#39;</span>, <span class="st">&#39;Emilio Cobos Álvarez&#39;</span>, <span class="st">&#39;Teoría de la computación&#39;</span>);


<span class="co">--Table &quot;subjects&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects <span class="kw">VALUES</span>(<span class="dv">1</span>, <span class="st">&#39;00015A&#39;</span>, <span class="st">&#39;Algoritmia&#39;</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects <span class="kw">VALUES</span>(<span class="dv">2</span>, <span class="st">&#39;00128E&#39;</span>, <span class="st">&#39;Estructuras de Datos&#39;</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects <span class="kw">VALUES</span>(3, <span class="st">&#39;00021I&#39;</span>, <span class="st">&#39;Informática Teórica&#39;</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects <span class="kw">VALUES</span>(4, <span class="st">&#39;00052O&#39;</span>, <span class="st">&#39;Organización y gestión de empresas&#39;</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects <span class="kw">VALUES</span>(<span class="dv">5</span>, <span class="st">&#39;00073U&#39;</span>, <span class="st">&#39;Sistemas Operativos&#39;</span>, <span class="dv">5</span>);


<span class="co">--Table &quot;themes&quot;</span>
<span class="co">--First subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(1, 1, <span class="st">&#39;Algoritmos de ordenación&#39;</span>, <span class="st">&#39;Ordenación de un elemento específico dentro de un conjunto cualquiera de datos.&#39;</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(2, 1, <span class="st">&#39;Algoritmos de búsqueda&#39;</span>, <span class="st">&#39;Búsqueda de un elemento específico dentro de un conjunto cualquiera de datos.&#39;</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(3, 1, <span class="st">&#39;Notación asintótica&#39;</span>, <span class="st">&#39;Diferentes métodos para expresar el tiempo de ejecución de un algoritmo.&#39;</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(4, 1, <span class="st">&#39;Esquemas algorítmicos&#39;</span>, <span class="st">&#39;Agrupación de los algoritmos dentro de distintos esquemas conocidos&#39;</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(5, 1, <span class="st">&#39;Análisis algorítmico&#39;</span>, <span class="st">&#39;Realizar estimaciones teóricas para los recursos que necesita cualquier algoritmo que resuelva un problema computacional dado.&#39;</span>, <span class="dv">1</span>);
<span class="co">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Second subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(6, 1, <span class="st">&#39;TAD: Pilas&#39;</span>, <span class="st">&#39;Se utilizan generalmente para simplificar ciertas operaciones de programación.&#39;</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(7, 1, <span class="st">&#39;TAD: Árboles Binarios de búsqueda&#39;</span>, <span class="st">&#39;Ampliación del TAD Árboles Binarios, que nos permiten recuperar una información determinada.&#39;</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(8, 1, <span class="st">&#39;TAD: Grafos&#39;</span>, <span class="st">&#39;Conjunto de nodos (también llamados vértices) y un conjunto de arcos (aristas) que establecen relaciones entre los nodos.&#39;</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(9, 1, <span class="st">&#39;TAD: Conjuntos Disjuntos&#39;</span>, <span class="st">&#39;Conjunto basado en la idea de representación de relaciones entre los elementos del conjunto.&#39;</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(10, 1, <span class="st">&#39;TAD: Montículos Binarios&#39;</span>, <span class="st">&#39;Tipo de implementación de colas de prioridad.&#39;</span>, <span class="dv">2</span>);
<span class="co">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Third subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(11, 1, <span class="st">&#39;Autómatas Finitos&#39;</span>, <span class="st">&#39;Modelos computacionales que realiza cómputos en forma automática sobre una entrada para producir una salida.&#39;</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(12, 1, <span class="st">&#39;Lenguajes&#39;</span>, <span class="st">&#39;Lo referente a símbolos primitivos y reglas para unir esos símbolos que están formalmente especificados.&#39;</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(13, 1, <span class="st">&#39;Gramáticas formales&#39;</span>, <span class="st">&#39;Estructuras matemáticas con un conjunto de reglas de formación que definen las cadenas de caracteres admisibles en un determinado lenguaje formal o lengua natural.&#39;</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(14, 1, <span class="st">&#39;Máquinas abstractas&#39;</span>, <span class="st">&#39;Modelos teóricos de un sistema computador de hardware o software usado en la teoría de autómatas.&#39;</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(15, 1, <span class="st">&#39;Máquina de Turing&#39;</span>, <span class="st">&#39;Dispositivo que manipula símbolos sobre una tira de cinta de acuerdo a una tabla de reglas.&#39;</span>, <span class="dv">3</span>);
<span class="co">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fourth subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(16, 1, <span class="st">&#39;Análisis de costo-beneficio&#39;</span>, <span class="st">&#39;Es una lógica o razonamiento basado en el principio de obtener los mayores y mejores resultados al menor esfuerzo invertido.&#39;</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(17, 1, <span class="st">&#39;La empresa y el sistema económico&#39;</span>, <span class="st">&#39;La empresa como estructura de producción, de asignación de recursos económicos, distribución y consumo de bienes y servicios en una economía.&#39;</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(18, 1, <span class="st">&#39;La empresa como realidad económica&#39;</span>, <span class="st">&#39;Conjunto ordenado de factores destinados a la producción.&#39;</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(19, 1, <span class="st">&#39;La empresa como sistema&#39;</span>, <span class="st">&#39;Teoría de sistemas aplicada a la empresa. Comportamiento, procesos de control y adaptación al entorno.&#39;</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(20, 1, <span class="st">&#39;Inversión y financiación&#39;</span>, <span class="st">&#39;La supervivencia de una empresa depende de su acertada planificación en cuanto a su política de inversiones, financiaciones y la continuidad de éstas en el tiempo.&#39;</span>, <span class="dv">4</span>);
<span class="co">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fifth subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(21, 1, <span class="st">&#39;Planificación del procesador&#39;</span>, <span class="st">&#39;Mecanismos más comunes que poseen los sistemas operativos actuales para realizar la gestión del procesador.&#39;</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(22, 1, <span class="st">&#39;Introducción a los Sistemas Operativos&#39;</span>, <span class="st">&#39;Funciones, objetivos, evolución y tipos, así como componentes y estructura de un Sistema Operativo.&#39;</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(23, 1, <span class="st">&#39;Descripción y control de procesos&#39;</span>, <span class="st">&#39;Estados, implementación y control de los procesos.&#39;</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(24, 1, <span class="st">&#39;Gestión de la memoria principal&#39;</span>, <span class="st">&#39;Conceptos fundamentales, asignación contigua de memoria, paginación y segmentación.&#39;</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> themes <span class="kw">VALUES</span>(25, 1, <span class="st">&#39;Gestón de la memoria virtual&#39;</span>, <span class="st">&#39;Paginación bajo demanda, prepaginación, reemplazo de páginas, gestión del conjunto residente, control de carga y ejemplos de gestión de memoria.&#39;</span>, <span class="dv">5</span>);


<span class="co">--Table &quot;questions&quot;</span>
<span class="co">--First subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(1, <span class="st">&#39;¿Cuál de estas funciones representa una cota superior asintótica para el archiconocido algoritmo de ordenación QuickSort?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(2, <span class="st">&#39;¿Cuál de estas funciones representa una cota superior asintótica para el archiconocido algoritmo de búsqueda Burbuja&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(3, <span class="st">&#39;¿Qué métodos diferentes de notaciones asintóticas hemos estudiado en clase?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(4, <span class="st">&#39;¿A qué esquema algorítmico pertenece el famoso problema de ajedrez de Las Ocho Reinas?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(5, <span class="st">&#39;¿Con qué sencilla fórmula matemática se puede analizar un bucle for?&#39;</span>);
<span class="co">----------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Second subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(6, <span class="st">&#39;Indica qué tipo de esquema sigue este TAD:&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(7, <span class="st">&#39;¿En qué se diferencia este TAD de los Árboles Binarios normales?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(8, <span class="st">&#39;¿Qué es un Árbol de Expansión mínima?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(9, <span class="st">&#39;¿Mediante qué tipo de estructuras se pueden implementar un Conjunto Disjunto?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(10, <span class="st">&#39;¿Qué dos propiedades rigen cualquier Montículo Binario?&#39;</span>);
<span class="co">----------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Third subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(11, <span class="st">&#39;¿Qué es un AFD?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(12, <span class="st">&#39;¿Qué es un lenguaje?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(13, <span class="st">&#39;¿Qué es una gramática formal?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(14, <span class="st">&#39;¿Para qué son usadas las máquinas abstractas?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(15, <span class="st">&#39;Sobre la Máquina de Turing, señala la afirmación correcta:&#39;</span>);
<span class="co">----------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fourth subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(16, <span class="st">&#39;Señala cuál de las siguientes afirmaciones sobre las empresas es correcta:&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(17, <span class="st">&#39;Señala la verdadera:&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(18, <span class="st">&#39;¿Cuáles son las funciones de la empresa dentro de una economía de mercado?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(19, <span class="st">&#39;¿Cuáles son los principios básicos de la Teoría de Sistemas?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(20, <span class="st">&#39;¿Cuál es el objetivo único de la inversión?&#39;</span>);
<span class="co">----------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fivth subject</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(21, <span class="st">&#39;¿En qué consiste la planificación del procesador?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(22, <span class="st">&#39;¿Cuáles son las funciones de un Sistema Operativo?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(23, <span class="st">&#39;¿Qué es un proceso?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(24, <span class="st">&#39;¿Qué problemas puede ocasionar la multiprogramación?&#39;</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions (<span class="kw">id</span>, statement) <span class="kw">VALUES</span>(25, <span class="st">&#39;¿En qué consiste la paginación bajo demanda?&#39;</span>);


<span class="co">--Table &quot;answers&quot;</span>
<span class="co">--First question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">100</span>, <span class="st">&#39;n*log(n)&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">101</span>, <span class="st">&#39;n^2&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">102</span>, <span class="st">&#39;n&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">103</span>, <span class="st">&#39;n^3&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">1</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Second question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">104</span>, <span class="st">&#39;n*log(n)&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">105</span>, <span class="st">&#39;n^2&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">106</span>, <span class="st">&#39;n^3&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">107</span>, <span class="st">&#39;n&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">2</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Third question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">108</span>, <span class="st">&#39;El orden de y theta&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">109</span>, <span class="st">&#39;El orden de y omega&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">110</span>, <span class="st">&#39;El orden de, omega y theta&#39;</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">111</span>, <span class="st">&#39;Ninguna de las anteriores&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">3</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fourth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">112</span>, <span class="st">&#39;Esquema Voraz&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(113, <span class="st">&#39;Divide y vencerás&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">114</span>, <span class="st">&#39;Las tres restantes no son ciertas&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">115</span>, <span class="st">&#39;Backtracking&#39;</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">4</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fifth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(116, <span class="st">&#39;Serie aritmética&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(117, <span class="st">&#39;Serie geométrica&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">118</span>, <span class="st">&#39;Integrales&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">119</span>, <span class="st">&#39;Derivadas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">5</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Sixth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">200</span>, <span class="st">&#39;FIFO&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">6</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">201</span>, <span class="st">&#39;LIFO&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">202</span>, <span class="st">&#39;LILO&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">203</span>, <span class="st">&#39;Ninguna de las anteriores&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">6</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Seventh question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">204</span>, <span class="st">&#39;En nada, son iguales, pero con distinto nombre&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">7</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">205</span>, <span class="st">&#39;Poseen un campo extra con un puntero&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">7</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">206</span>, <span class="st">&#39;Poseen un campo extra que contiene una clave&#39;</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">207</span>, <span class="st">&#39;Todas las anteriores son correctas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">7</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Eigth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">208</span>, <span class="st">&#39;Un tipo de Conjunto Disjunto&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">8</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(209, <span class="st">&#39;Un tipo de Montículo Binario&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">8</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(210, <span class="st">&#39;Un tipo de Árbol Binario&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">8</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(211, <span class="st">&#39;Un grado cuyos vértices están unidos por las aristas de menor coste (de menos peso)&#39;</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">8</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Ninth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(212, <span class="st">&#39;Listas enlazadas, árboles binarios y matrices&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">9</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(213, <span class="st">&#39;Listas enlazadas y árboles binarios&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">9</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(214, <span class="st">&#39;Únicamente mediantes matrices&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">9</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">215</span>, <span class="st">&#39;listas enlazadas y matrices&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">9</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Tenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">216</span>, <span class="st">&#39;Propiedas de recorrido y orden&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">10</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">217</span>, <span class="st">&#39;Propiedas de estructura y orden&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">10</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">218</span>, <span class="st">&#39;Propiedad de recorrido y estructura&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">10</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(219, <span class="st">&#39;Todas las demás son correctas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">10</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Eleventh question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(300, <span class="st">&#39;Autómata Finito No Determinsita&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">11</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(301, <span class="st">&#39;Máquina de Turing&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">11</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(302, <span class="st">&#39;Autómata Finito Determinista&#39;</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">11</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">303</span>, <span class="st">&#39;Conjunto Universal&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">11</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twelfth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">304</span>, <span class="st">&#39;Ninguna de las siguientes&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">12</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(305, <span class="st">&#39;Forma de representar información basada en un conjunto finito de sólo símbolos&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">12</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(306, <span class="st">&#39;Forma de representar información basada en un conjunto infinito de signos o símbolos&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">12</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(307, <span class="st">&#39;Forma de representar información basada en un conjunto finito de signos o símbolos&#39;</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">12</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Thirteenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(308, <span class="st">&#39;Lenguaje descrito mediante un formalismo matemático&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">13</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(309, <span class="st">&#39;Lenguaje descrito mediante un formalismo físico&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">13</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">310</span>, <span class="st">&#39;Lenguaje abstracto sobre cualquier cosa&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">13</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">311</span>, <span class="st">&#39;Ninguna de las anteriores&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">13</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fourteenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(312, <span class="st">&#39;Para compilar programas escritos en lenguaje de programación&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">14</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">313</span>, <span class="st">&#39;En experimentos de pensamiento&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">14</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">314</span>, <span class="st">&#39;Para poder escribir e-mails&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">14</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">315</span>, <span class="st">&#39;Todas son ciertas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">14</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Fifteenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(316, <span class="st">&#39;No puede simular ningún algoritmo. No está diseñada para eso&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">15</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">317</span>, <span class="st">&#39;Puede simular casi cualquier algoritmo&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">15</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">318</span>, <span class="st">&#39;Puede simular cualquier algoritmo&#39;</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">15</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">319</span>, <span class="st">&#39;Todas las anteriores son ciertas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">15</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Sixteenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">400</span>, <span class="st">&#39;Debe de maximizar beneficios minimizando costes&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">16</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">401</span>, <span class="st">&#39;Debe de minimizar beneficios maximizando costes&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">16</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">402</span>, <span class="st">&#39;Debe de maximizar beneficios maximizando costes&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">16</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">403</span>, <span class="st">&#39;Debe de minimizar beneficios minimizando costes&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">16</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Seventeenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(404, <span class="st">&#39;La empresa no forma parte de la Economía&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">17</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(405, <span class="st">&#39;La empresa está integrada enteramente dentro de la Economía&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">17</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(406, <span class="st">&#39;La empresa está integrada en la Economía únicamente a nivel de producción&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">17</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">407</span>, <span class="st">&#39;Todas son ciertas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">17</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Eighteenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">408</span>, <span class="st">&#39;Generar bienes y servicios&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">18</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">409</span>, <span class="st">&#39;Anticipar producto obtenido&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">18</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">410</span>, <span class="st">&#39;Todas son verdaderas&#39;</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">18</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">411</span>, <span class="st">&#39;Asumir riesgos&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">18</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Nineteenth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">412</span>, <span class="st">&#39;Independencia&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">19</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(413, <span class="st">&#39;Transformación&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">19</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(414, <span class="st">&#39;Entropía&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">19</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">415</span>, <span class="st">&#39;Todas las anterires son correctas&#39;</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">19</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twentieth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">416</span>, <span class="st">&#39;Determinar todo lo necesario para poner en marcha una empresa&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">20</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">417</span>, <span class="st">&#39;Tener en cuenta las amortizaciones en el plan de viabilidad de una empresa&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">20</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(418, <span class="st">&#39;Calcular los costes de financiación&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">20</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(419, <span class="st">&#39;Todas son válidas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">20</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twenty first question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">500</span>, <span class="st">&#39;Formatear los datos contenidos en un Disco Duro&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">21</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">501</span>, <span class="st">&#39;Varias personas utilizando un mismo Sistema a la vez&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">21</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(502, <span class="st">&#39;Gestión de los mecanismos IPC del Sistema Operativo&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">21</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">503</span>, <span class="st">&#39;Dar un buen servicio a los procesos de un Sistema&#39;</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">21</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twenty second question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">504</span>, <span class="st">&#39;Todas las restantes&#39;</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">22</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(505, <span class="st">&#39;Abstracción del hardware&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">22</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(506, <span class="st">&#39;Detección de errores así como su posible solución&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">22</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(507, <span class="st">&#39;Puesta en ejecución de programas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">22</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twenty third question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">508</span>, <span class="st">&#39;Algo no inherente al Sistema Operativo&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">23</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(509, <span class="st">&#39;Una instancia de ejecución de un programa&#39;</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">23</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(<span class="dv">510</span>, <span class="st">&#39;Un componente del Disco Duro&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">23</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(511, <span class="st">&#39;Todas las anteriores son respuestas válidas&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">23</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twenty fourth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(512, <span class="st">&#39;Compartición de código y/o datos&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">24</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(513, <span class="st">&#39;Reubicación del código&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">24</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(514, <span class="st">&#39;Todas las demás&#39;</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">24</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(515, <span class="st">&#39;Protección de la memoria de cada proceso&#39;</span>, <span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">24</span>);
<span class="co">-----------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="co">--Twenty fifth question</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(516, <span class="st">&#39;En dividir el programa en páginas/marcos y cargar en memoria secundaria todos&#39;</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">25</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(517, <span class="st">&#39;En dividir el programa en páginas/marcos y cargar en memoria secundaria sólo los que se estén usando&#39;</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">25</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(518, <span class="st">&#39;En dividir el programa en páginas/marcos y cargar en memoria principal todos&#39;</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">25</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> answers <span class="kw">VALUES</span>(519, <span class="st">&#39;En dividir el programa en páginas/marcos y cargar en memoria principal sólo los que se estén usando&#39;</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">25</span>);



<span class="co">--Table &quot;exams&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams <span class="kw">VALUES</span>(<span class="dv">1</span>, <span class="dv">2007</span>, <span class="dv">1</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams <span class="kw">VALUES</span>(<span class="dv">2</span>, <span class="dv">2008</span>, <span class="dv">2</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams <span class="kw">VALUES</span>(<span class="dv">3</span>, <span class="dv">2005</span>, <span class="dv">1</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams <span class="kw">VALUES</span>(<span class="dv">4</span>, <span class="dv">2010</span>, <span class="dv">1</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams <span class="kw">VALUES</span>(<span class="dv">5</span>, <span class="dv">2015</span>, <span class="dv">2</span>, <span class="dv">5</span>);



<span class="co">--Table &quot;questions_themes&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">1</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">2</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">3</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">4</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">5</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">6</span>, <span class="dv">6</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">7</span>, <span class="dv">7</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">8</span>, <span class="dv">8</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">9</span>, <span class="dv">9</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">10</span>, <span class="dv">10</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">11</span>, <span class="dv">11</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">12</span>, <span class="dv">12</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">13</span>, <span class="dv">13</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">14</span>, <span class="dv">14</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">15</span>, <span class="dv">15</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">16</span>, <span class="dv">16</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">17</span>, <span class="dv">17</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">18</span>, <span class="dv">18</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">19</span>, <span class="dv">19</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">20</span>, <span class="dv">20</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">21</span>, <span class="dv">21</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">22</span>, <span class="dv">22</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">23</span>, <span class="dv">23</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">24</span>, <span class="dv">24</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> questions_themes <span class="kw">VALUES</span>(<span class="dv">25</span>, <span class="dv">25</span>);



<span class="co">--Table &quot;exams_questions&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">7</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">8</span>, <span class="dv">4</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">9</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">11</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">13</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">14</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">15</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">16</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">17</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">18</span>, <span class="dv">4</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">19</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">20</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">21</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">22</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">23</span>, <span class="dv">4</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">24</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> exams_questions <span class="kw">VALUES</span>(<span class="dv">25</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>);


<span class="co">--Table &quot;subjects_teachers&quot;</span>
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects_teachers <span class="kw">VALUES</span>(<span class="dv">1</span>, <span class="dv">1</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects_teachers <span class="kw">VALUES</span>(<span class="dv">2</span>, <span class="dv">2</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects_teachers <span class="kw">VALUES</span>(<span class="dv">3</span>, <span class="dv">3</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects_teachers <span class="kw">VALUES</span>(<span class="dv">4</span>, <span class="dv">4</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects_teachers <span class="kw">VALUES</span>(<span class="dv">5</span>, <span class="dv">5</span>);
<span class="kw">INSERT</span> <span class="kw">INTO</span> subjects_teachers <span class="kw">VALUES</span>(<span class="dv">6</span>, <span class="dv">5</span>);</code></pre>
<h2 id="etcsqlsrcview.sql">etc/sql/src/view.sql</h2>
<pre class="sourceCode sql"><code class="sourceCode sql"><span class="co">--View &#39;questions_counter&#39;</span>
<span class="kw">CREATE</span> <span class="kw">OR</span> <span class="kw">REPLACE</span> <span class="kw">VIEW</span> questions_counter <span class="kw">AS</span>
    <span class="kw">SELECT</span>
        teachers.id <span class="kw">AS</span> teacher_id,
        teachers.dni <span class="kw">AS</span> dni,
        themes.subject_id,
        themes.id <span class="kw">AS</span> theme_id,
        <span class="co">-- We want to count all the themes, not just those who have at least one question</span>
        (<span class="kw">SELECT</span> <span class="fu">COUNT</span>(qt.question_id) <span class="kw">FROM</span> questions_themes qt <span class="kw">WHERE</span> qt.theme_id = themes.id) <span class="kw">AS</span> question_count
    <span class="kw">FROM</span> teachers, subjects_teachers, themes
    <span class="kw">WHERE</span>
        teachers.id = subjects_teachers.teacher_id <span class="kw">AND</span>
        subjects_teachers.subject_id = themes.subject_id <span class="kw">AND</span>
        teachers.dni = <span class="fu">USER</span>
    <span class="kw">GROUP</span> <span class="kw">BY</span> teachers.id, teachers.dni, themes.subject_id, themes.id;

<span class="kw">GRANT</span> <span class="kw">ALL</span> <span class="kw">PRIVILEGES</span> <span class="kw">ON</span> questions_counter <span class="kw">TO</span> <span class="kw">PUBLIC</span>;</code></pre>
</body>
</html>
